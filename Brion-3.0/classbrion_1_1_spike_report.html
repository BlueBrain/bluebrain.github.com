<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Brion: brion::SpikeReport Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Brion
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">The Blue Brain C++ I/O library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classbrion_1_1_spike_report.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classbrion_1_1_spike_report-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">brion::SpikeReport Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Read/writes access to a spike report.  
 <a href="classbrion_1_1_spike_report.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="spike_report_8h_source.html">spikeReport.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for brion::SpikeReport:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classbrion_1_1_spike_report__coll__graph.png" border="0" usemap="#brion_1_1_spike_report_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a76277acf0346819dd0ead1349a020c7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76277acf0346819dd0ead1349a020c7e"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a76277acf0346819dd0ead1349a020c7e">State</a> { <b>ok</b>, 
<b>ended</b>, 
<b>failed</b>
 }<tr class="memdesc:a76277acf0346819dd0ead1349a020c7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The State enum : describe the state of the report State::ok means that the report is ready to be read/written State::ended means that the report end is reached (in read mode) State::failed means that a error occured when readyn or writing the report. <br /></td></tr>
</td></tr>
<tr class="separator:a76277acf0346819dd0ead1349a020c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abc848e1631c8293dbb2c0a5787656b3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#abc848e1631c8293dbb2c0a5787656b3b">SpikeReport</a> (const URI &amp;uri, int mode=MODE_READ)</td></tr>
<tr class="memdesc:abc848e1631c8293dbb2c0a5787656b3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classbrion_1_1_spike_report.html" title="Read/writes access to a spike report. ">SpikeReport</a> object given a URI.  <a href="#abc848e1631c8293dbb2c0a5787656b3b">More...</a><br /></td></tr>
<tr class="separator:abc848e1631c8293dbb2c0a5787656b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eec8b54b3b74f8c21bf80a8690fa780"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a7eec8b54b3b74f8c21bf80a8690fa780">SpikeReport</a> (const URI &amp;uri, const <a class="el" href="namespacebrion.html#a357e1817d1c46828b8a3d2ac91f635bc">GIDSet</a> &amp;ids)</td></tr>
<tr class="memdesc:a7eec8b54b3b74f8c21bf80a8690fa780"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a report in read mode with a subset selection.  <a href="#a7eec8b54b3b74f8c21bf80a8690fa780">More...</a><br /></td></tr>
<tr class="separator:a7eec8b54b3b74f8c21bf80a8690fa780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50beeeb2c939998028f2e5e32d121364"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a50beeeb2c939998028f2e5e32d121364">~SpikeReport</a> ()</td></tr>
<tr class="memdesc:a50beeeb2c939998028f2e5e32d121364"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release all resources.  <a href="#a50beeeb2c939998028f2e5e32d121364">More...</a><br /></td></tr>
<tr class="separator:a50beeeb2c939998028f2e5e32d121364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af71f968e8b1b7ef2dddb158e962dbc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6af71f968e8b1b7ef2dddb158e962dbc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SpikeReport</b> (<a class="el" href="classbrion_1_1_spike_report.html">SpikeReport</a> &amp;&amp;)</td></tr>
<tr class="separator:a6af71f968e8b1b7ef2dddb158e962dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ada8bffcf4ddf112a460925544be7c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40ada8bffcf4ddf112a460925544be7c"></a>
<a class="el" href="classbrion_1_1_spike_report.html">SpikeReport</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classbrion_1_1_spike_report.html">SpikeReport</a> &amp;&amp;)</td></tr>
<tr class="separator:a40ada8bffcf4ddf112a460925544be7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5610cfd2b4f663e5c9e6393af63a472c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a5610cfd2b4f663e5c9e6393af63a472c">close</a> ()</td></tr>
<tr class="memdesc:a5610cfd2b4f663e5c9e6393af63a472c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the report.  <a href="#a5610cfd2b4f663e5c9e6393af63a472c">More...</a><br /></td></tr>
<tr class="separator:a5610cfd2b4f663e5c9e6393af63a472c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe018d69760b2546f886877d267fcf7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#aabe018d69760b2546f886877d267fcf7">isClosed</a> () const </td></tr>
<tr class="separator:aabe018d69760b2546f886877d267fcf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad20c31f6b65356a837051ad6378fbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#acad20c31f6b65356a837051ad6378fbb">interrupt</a> ()</td></tr>
<tr class="memdesc:acad20c31f6b65356a837051ad6378fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt any pending read/seek operation.  <a href="#acad20c31f6b65356a837051ad6378fbb">More...</a><br /></td></tr>
<tr class="separator:acad20c31f6b65356a837051ad6378fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc05e732f005032f8080f88e88bd168"><td class="memItemLeft" align="right" valign="top">const URI &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a4dc05e732f005032f8080f88e88bd168">getURI</a> () const </td></tr>
<tr class="memdesc:a4dc05e732f005032f8080f88e88bd168"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the URI used to instantiate the report.  <a href="#a4dc05e732f005032f8080f88e88bd168">More...</a><br /></td></tr>
<tr class="separator:a4dc05e732f005032f8080f88e88bd168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab199bcf8e3244591b88ada47fb8162b3"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime</a> () const </td></tr>
<tr class="separator:ab199bcf8e3244591b88ada47fb8162b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f90cebedf6f79bd3c8e15de3c2861aa"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a5f90cebedf6f79bd3c8e15de3c2861aa">getEndTime</a> () const </td></tr>
<tr class="separator:a5f90cebedf6f79bd3c8e15de3c2861aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7245fa5e202c79bfea1c46e2f32f60e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbrion_1_1_spike_report.html#a76277acf0346819dd0ead1349a020c7e">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a7245fa5e202c79bfea1c46e2f32f60e3">getState</a> () const </td></tr>
<tr class="separator:a7245fa5e202c79bfea1c46e2f32f60e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf6257a24b2e1608e0a2a2a72e3e6cf"><td class="memItemLeft" align="right" valign="top">std::future&lt; Spikes &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a0cf6257a24b2e1608e0a2a2a72e3e6cf">read</a> (float min)</td></tr>
<tr class="memdesc:a0cf6257a24b2e1608e0a2a2a72e3e6cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read spikes until getCurrentTime becomes &gt; min, the end of the report is reached or the report closed.  <a href="#a0cf6257a24b2e1608e0a2a2a72e3e6cf">More...</a><br /></td></tr>
<tr class="separator:a0cf6257a24b2e1608e0a2a2a72e3e6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ae7991ad9563d38d0060f43e839258"><td class="memItemLeft" align="right" valign="top">std::future&lt; Spikes &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a19ae7991ad9563d38d0060f43e839258">readUntil</a> (float max)</td></tr>
<tr class="memdesc:a19ae7991ad9563d38d0060f43e839258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read spikes until <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a> &gt;= max, the end of the report is reached or the report closed.  <a href="#a19ae7991ad9563d38d0060f43e839258">More...</a><br /></td></tr>
<tr class="separator:a19ae7991ad9563d38d0060f43e839258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1f18b9e172bec7c5aaf495f1edc590"><td class="memItemLeft" align="right" valign="top">std::future&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a2e1f18b9e172bec7c5aaf495f1edc590">seek</a> (float toTimeStamp)</td></tr>
<tr class="memdesc:a2e1f18b9e172bec7c5aaf495f1edc590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seek to a given absolute timestamp.  <a href="#a2e1f18b9e172bec7c5aaf495f1edc590">More...</a><br /></td></tr>
<tr class="separator:a2e1f18b9e172bec7c5aaf495f1edc590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebaf37ef98890cdcf0ca8585d035ab5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#aebaf37ef98890cdcf0ca8585d035ab5f">write</a> (const <a class="el" href="namespacebrion.html#aa5761fbfeed13e3001d6b682ecee81cf">Spike</a> *spikes, size_t size)</td></tr>
<tr class="memdesc:aebaf37ef98890cdcf0ca8585d035ab5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the given spikes to the output.  <a href="#aebaf37ef98890cdcf0ca8585d035ab5f">More...</a><br /></td></tr>
<tr class="separator:aebaf37ef98890cdcf0ca8585d035ab5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8efdf2da32129eff184b9bd260b4c49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#ab8efdf2da32129eff184b9bd260b4c49">write</a> (const Spikes &amp;spikes)</td></tr>
<tr class="memdesc:ab8efdf2da32129eff184b9bd260b4c49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overload of the function above provided for convenience.  <a href="#ab8efdf2da32129eff184b9bd260b4c49">More...</a><br /></td></tr>
<tr class="separator:ab8efdf2da32129eff184b9bd260b4c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa112549e40ecbaecae371a87a054d991"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#aa112549e40ecbaecae371a87a054d991">supportsBackwardSeek</a> () const </td></tr>
<tr class="separator:aa112549e40ecbaecae371a87a054d991"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4c0e9bb690a41e19ca9ab55da707d54f"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrion_1_1_spike_report.html#a4c0e9bb690a41e19ca9ab55da707d54f">getDescriptions</a> ()</td></tr>
<tr class="separator:a4c0e9bb690a41e19ca9ab55da707d54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Read/writes access to a spike report. </p>
<p>Following RAII, this class is ready to use after the creation and will ensure release of resources upon destruction.</p>
<p>There are two type of SpikeReports, depending on the semantics of the data source:</p><ul>
<li>Static reports: The full spike data base is made available at construction time. This is the mode used by Bluron and NEST report file readers.</li>
<li>Stream based reports: Spikes are read from a network stream. The stream always moves forward in time. The reader cannot steer or control how the source produces the spikes. Spikes are cached internally and made available by calling read/readUntil</li>
</ul>
<p>This class is not thread-safe except where stated otherwise. </p>

<p>Definition at line <a class="el" href="spike_report_8h_source.html#l00056">56</a> of file <a class="el" href="spike_report_8h_source.html">spikeReport.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abc848e1631c8293dbb2c0a5787656b3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">brion::SpikeReport::SpikeReport </td>
          <td>(</td>
          <td class="paramtype">const URI &amp;&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em> = <code>MODE_READ</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="classbrion_1_1_spike_report.html" title="Read/writes access to a spike report. ">SpikeReport</a> object given a URI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>URI to spike report. The report type is deduced from here. The report types with built-in support are:<ul>
<li>Bluron ('dat' extension), Bluron file based reports.</li>
<li>NEST ('gdf' extension). NEST file based reports. In read mode, shell wildcards are accepted at the file path leaf to load multiple report files.</li>
<li>Binary ('spikes' extension) Support for additional types can be added through plugins; see <a class="el" href="classbrion_1_1_spike_report_plugin.html" title="Base interface for spike report readers plugins. ">SpikeReportPlugin</a> for the details.</li>
</ul>
</td></tr>
    <tr><td class="paramname">mode</td><td>the brion::AccessMode bitmask. The report can be open only in brion::MODE_READ or brion::MODE_WRITE modes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if the input URI is not handled by any registered spike report plugin. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a7eec8b54b3b74f8c21bf80a8690fa780"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">brion::SpikeReport::SpikeReport </td>
          <td>(</td>
          <td class="paramtype">const URI &amp;&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacebrion.html#a357e1817d1c46828b8a3d2ac91f635bc">GIDSet</a> &amp;&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a report in read mode with a subset selection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>thre port uri </td></tr>
    <tr><td class="paramname">ids</td><td>The set of gids to be reported. This set should be understood as a filter: any included GID which is not actually part of the report will be silently ignored when reading data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a50beeeb2c939998028f2e5e32d121364"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">brion::SpikeReport::~SpikeReport </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release all resources. </p>
<p>Any pending read/seek tasks will be interrupted and calling get on the corresponding future will throw std::runtime_error. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5610cfd2b4f663e5c9e6393af63a472c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void brion::SpikeReport::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the report. </p>
<p>The close operation is blocking and it interrupts all the pending read/seek operations. </p><dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ab199bcf8e3244591b88ada47fb8162b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float brion::SpikeReport::getCurrentTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the end time of the latest complete read/write operation or 0 if no operation has been issued.</dd></dl>
<p>Read operations are deemed as complete when the returned future is ready.</p>
<p>The time inverval to which getCurrentTime refers is open on the right. That means that upon completion of a read or write operation no spike read or written may have a timestamp &gt;= <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a>. </p><dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a4c0e9bb690a41e19ca9ab55da707d54f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string brion::SpikeReport::getDescriptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the descriptions of all loaded report backends. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.10 </dd></dl>

</div>
</div>
<a class="anchor" id="a5f90cebedf6f79bd3c8e15de3c2861aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float brion::SpikeReport::getEndTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the end timestamp of the report. This is the timestamp of the last spike known to be available or written or larger if the implementation has more metadata available. For stream reports this time is 0 before any operation is completed. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a7245fa5e202c79bfea1c46e2f32f60e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbrion_1_1_spike_report.html#a76277acf0346819dd0ead1349a020c7e">State</a> brion::SpikeReport::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The state after the last completed operation. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a4dc05e732f005032f8080f88e88bd168"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const URI&amp; brion::SpikeReport::getURI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the URI used to instantiate the report. </p>
<p>It could be different from the input URI, depending on the plugin implementation.</p>
<dl class="section return"><dt>Returns</dt><dd>The URI used in the instance. It could be the same as the input URI or a different one, depending on the implementation </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="acad20c31f6b65356a837051ad6378fbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void brion::SpikeReport::interrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt any pending read/seek operation. </p>
<p>This method is blocking. </p><dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="aabe018d69760b2546f886877d267fcf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool brion::SpikeReport::isClosed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if the report was closed </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a0cf6257a24b2e1608e0a2a2a72e3e6cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt;Spikes&gt; brion::SpikeReport::read </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read spikes until getCurrentTime becomes &gt; min, the end of the report is reached or the report closed. </p>
<p>This function fetches all the available data from the source. If no error occurs and the end is not reached, the min value passed is also guaranteed to be inside the time window of the data returned.</p>
<p>Preconditions:</p><ul>
<li>r.getState() is State::ok</li>
<li>The report was open in read mode.</li>
<li>There is no previous read or seek operation with a pending future.</li>
</ul>
<p>Postconditions: Let:</p><ul>
<li>r be the <a class="el" href="classbrion_1_1_spike_report.html" title="Read/writes access to a spike report. ">SpikeReport</a></li>
<li>f be the returned future by r.read(min)</li>
<li>and s = r.getCurrentTime() before read is called: After f.wait() returns the following are all true:</li>
<li>r.getCurrentTime() &gt;= s</li>
<li>If r.getState() == State::ok, then r.getCurrentTime() &gt; min</li>
<li>For each spike timestamp t_s in f.get(), s &lt;= t_s &lt; r.getCurrentTime() (Note this could collapse to an empty interval if r.getState() != State::ok)</li>
</ul>
<p>After successful f.wait_for or f.wait_until, the result is the same as above. If they time out, no observable state changes.</p>
<p>If the state is FAILED or some other operation is still pending when read is called the result is undefined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>The minimum end time until which spikes will be read. If UNDEFINED_TIMESTAMP, it will be considered as -infinite. This means that as much data as possible will be fetched without a minimum. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::logic_error</td><td>if one of the preconditions is not fulfilled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Until the completion of this operation, the internal state of the <a class="el" href="classbrion_1_1_spike_report.html" title="Read/writes access to a spike report. ">SpikeReport</a> may change. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a19ae7991ad9563d38d0060f43e839258"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt;Spikes&gt; brion::SpikeReport::readUntil </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read spikes until <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a> &gt;= max, the end of the report is reached or the report closed. </p>
<p>This function is very similar to the normal read, but instead of specifying a lower bound of getCurrentTime at return, it specifies a requested strict value. The preconditions and postconditions are the same except for those involving the parameter min which become:</p>
<p>Precondition: max &gt; <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a> Postcondition: If r.getState() == State::ok, then r.getCurrentTime() &gt;= max </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if the precondition does not hold. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Until the completion of this operation, the internal state of the <a class="el" href="classbrion_1_1_spike_report.html" title="Read/writes access to a spike report. ">SpikeReport</a> may change. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classbrion_1_1_spike_report.html#a2e1f18b9e172bec7c5aaf495f1edc590" title="Seek to a given absolute timestamp. ">seek()</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a2e1f18b9e172bec7c5aaf495f1edc590"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt;void&gt; brion::SpikeReport::seek </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>toTimeStamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Seek to a given absolute timestamp. </p>
<p>If toTimestamp &gt;= <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a> and the report was open for reading, data will be skipped forward until the timestamp is made current. In write mode for streams, consumers are notified about the new timestamp.</p>
<p>The case toTimestamp &lt; <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a> is only supported by file based reports. In write mode, seeks are only supported in binary reports. Forward seeking simply updates <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a> and backward seeking followed by a write, will overwrite the existing data.</p>
<p>If the seek operation is not supported, a std::runtime_error will be thrown if this method is called.</p>
<p>Preconditions:</p><ul>
<li>There is no standing read or readUntil operation.</li>
</ul>
<p>Postconditions: Let:</p><ul>
<li>r be the <a class="el" href="classbrion_1_1_spike_report.html" title="Read/writes access to a spike report. ">SpikeReport</a></li>
<li>f be the returned future by r.seek(toTimestamp) Then:</li>
<li>After f.wait() returns r.getCurrentTime() == toTimestamp.</li>
<li>The postconditions of read operations imply that in forward skips this function throws away the data previous to toTimestamp (or avoids reading it at all if possible).</li>
</ul>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if a precondition does not hold or the operation is not supported by the implementation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Until the completion of this operation, the internal state of the <a class="el" href="classbrion_1_1_spike_report.html" title="Read/writes access to a spike report. ">SpikeReport</a> may change. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="aa112549e40ecbaecae371a87a054d991"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool brion::SpikeReport::supportsBackwardSeek </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Whether the report supports seek to t &lt; <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a> or not. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="aebaf37ef98890cdcf0ca8585d035ab5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void brion::SpikeReport::write </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacebrion.html#aa5761fbfeed13e3001d6b682ecee81cf">Spike</a> *&#160;</td>
          <td class="paramname"><em>spikes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the given spikes to the output. </p>
<p>Preconditions:</p><ul>
<li>spikes is sorted by timestamp</li>
<li>spikes.front().first &gt;= <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a></li>
</ul>
<p>Upon return getCurrenTime() is the greatest of all the spike times plus an epsilon.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spikes</td><td>An array of spikes sorted by timestamp in ascending order. For every spike, its timestamp must be &gt;= <a class="el" href="classbrion_1_1_spike_report.html#ab199bcf8e3244591b88ada47fb8162b3">getCurrentTime()</a>. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the spies array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if the report is read-only, </td></tr>
    <tr><td class="paramname">std::logic_error</td><td>if a precondition does not hold </td></tr>
  </table>
  </dd>
</dl>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ab8efdf2da32129eff184b9bd260b4c49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void brion::SpikeReport::write </td>
          <td>(</td>
          <td class="paramtype">const Spikes &amp;&#160;</td>
          <td class="paramname"><em>spikes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overload of the function above provided for convenience. </p>
<dl class="section version"><dt>Version</dt><dd>2.0 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="spike_report_8h_source.html">spikeReport.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacebrion.html">brion</a></li><li class="navelem"><a class="el" href="classbrion_1_1_spike_report.html">SpikeReport</a></li>
    <li class="footer">Generated on Fri Jul 6 2018 06:28:24 for Brion by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
