<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Brayns: Brayns user guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Brayns
   &#160;<span id="projectnumber">0.3.0</span>
   </div>
   <div id="projectbrief">Hardware Agnostic Ray-Tracer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__jenkins_03_workspace_oss.Brayns.documentation_build_type_Debug_platform_cscsviz-vm_sources_doc_UserGuide.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Brayns user guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Data sources</h2>
<h3>Morphologies</h3>
<h4>Loading morphologies</h4>
<p>The &ndash;morphology-folder command line argument specifies the location of the SWC or H5 morphology files to be loaded.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies</div></div><!-- fragment --><h3>Loading a circuit</h3>
<p>The &ndash;circuit-config command line argument define the BlueConfig or CircuitConfig to be loaded by Brayns. The &ndash;target command line argument specified the circuit target, and the &ndash;report command line argument specifies the simulation report to be rendered. Note that when a report is specified, the &ndash;simulation-cache-file command line argument needs to be specified in order to generate the cache file that Brayns needs to render the simulation. If the simulation cache file already exists, Brayns connects to it. If it does not, Brayns creates it.</p>
<p>Example of how to load a circuit with voltages simulation for layer 1 cells </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --circuit-config ~/circuits/BlueConfig --target Layer1 --report</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;voltages --simulation-cache-file ~/circuits/cache</div></div><!-- fragment --><div class="image">
<img src="Layer1.png" alt="Layer1.png"/>
<div class="caption">
Layer1</div></div>
 <h4>Bounding box</h4>
<p>Defining a bounding box will prevent any geometry located outside of the box from being loaded. The &ndash;circuit-bounding-box command line argument takes six float values. The first three values being the lower bound of the box, and the next three values defining the upper bound.</p>
<p>Example of how to define a circuit bounding box: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --circuit-config ~/circuits/BlueConfig --circuit-bounding-box -100 -100 -100 100 100 100</div></div><!-- fragment --><h4>Density</h4>
<p>The &ndash;circuit-density command line argument defines how many of the circuit cells should be loaded. For example, if a density of 5 is specified, one cell in 20 will be loaded. Brayns reads the cells in GID order.</p>
<p>Example of how to load 10% of the circuit: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --circuit-config ~/circuits/BlueConfig --circuit-density 10</div></div><!-- fragment --><h3>Loading a NEST circuit</h3>
<p>The &ndash;nest-config command line argument define the NEST circuit to be loaded by Brayns. The &ndash;nest-report command line argument specifies the report to be rendered. The &ndash;nest-cache-file command line argument needs to be specified in order to generate the cache file that Brayns uses to render the simulation. If the simulation cache file already exists, Brayns connects to it. If it does not, Brayns creates it.</p>
<h3>Options</h3>
<h4>Layout</h4>
<p>When loading several morphologies, Brayns allows the user to position them with a specific layout. Typically, the user might want to visualize cells next to each other. The &ndash;morphology-layout command line argument specifies the number of cells per line, as well as the horizontal and vertical spacing between each of those cells. Units used for the horizontal and vertical spacing are the ones from the H5 and SWC files.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --morphology-layout 5 100 100</div></div><!-- fragment --><h4>Section types</h4>
<p>Brayns allows the user to specify which section type of the morpholoy should be loaded. Sections type are soma, axon, dendrite and apical dendrite. Those types can be combined together by adding their corresponding values (1 for the soma, 2 for the Axon, 4 for dendrites and 8 for apical dendrites). For example, if one wants to visualize the somas and the axons, the &ndash;morphology-section-types command line argument should then be set to 3.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --morphology-section-types 3</div></div><!-- fragment --><div class="image">
<img src="SectionTypesAxonSoma.png" alt="SectionTypesAxonSoma.png"/>
<div class="caption">
SectionTypes</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --morphology-section-types 5</div></div><!-- fragment --><div class="image">
<img src="SectionTypesAxonDendrites.png" alt="SectionTypesAxonDendrites.png"/>
<div class="caption">
SectionTypesSomaDendrites</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --morphology-section-types 9</div></div><!-- fragment --><div class="image">
<img src="SectionTypesAxonApicalDendrites.png" alt="SectionTypesAxonApicalDendrites.png"/>
<div class="caption">
SectionTypesSomaApicalDendrites</div></div>
 <h4>Geometry quality</h4>
<p>Brayns supports three quality levels for morphologies. The low quality draws one line per section, the medium quality divides the number of segment by 4, and the high quality renders the full morphology.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --geometry-quality low</div></div><!-- fragment --><div class="image">
<img src="GeometryQualityLow.png" alt="GeometryQualityLow.png"/>
<div class="caption">
GeometryQualityLow</div></div>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --geometry-quality medium</div></div><!-- fragment --><div class="image">
<img src="GeometryQualityMedium.png" alt="GeometryQualityMedium.png"/>
<div class="caption">
GeometryQualityMedium</div></div>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --geometry-quality high</div></div><!-- fragment --><div class="image">
<img src="GeometryQualityHigh.png" alt="GeometryQualityHigh.png"/>
<div class="caption">
GeometryQualityHigh</div></div>
 <h4>Radius multiplier</h4>
<p>The &ndash;radius-multiplier command line parameters specifies the multiplier applied to morphology radii. Typically, a value of 3 multipliers all radii by 3.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --radius-multiplier 3</div></div><!-- fragment --><div class="image">
<img src="RadiusMultiplier3.png" alt="RadiusMultiplier3.png"/>
<div class="caption">
RadiusMultiplier</div></div>
 <h4>Radius correction</h4>
<p>The &ndash;radius-correction command line parameters specifies a unique radius applied to all segments of the morphology. The unit is the one of the loaded H5/SWC files.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --radius-correction 1</div></div><!-- fragment --><div class="image">
<img src="RadiusCorrection1.png" alt="RadiusCorrection1.png"/>
<div class="caption">
RadiusCorrection</div></div>
 <h4>Color scheme</h4>
<p>The &ndash;color-scheme command line argument specifies how materials are applied to the morphology. Available values are:</p><ul>
<li>neuron-by-id: Each neuron has a different color</li>
<li>neuron-by-segment id: Somas are white, axons are blue, dendrites are red, and apical dendrites are purple</li>
<li>neuron-by-layer: A different color is assigned for every layer. All neurons belonging to a specific layer as the same color</li>
<li>neuron-by-mtype: Each morphological type has a different color</li>
<li>neuron-by-etype: Each electro-physiologic type has a different color</li>
<li>protein-by-id: Each protein has a different color</li>
<li>protein-atoms: Atoms have standard colors</li>
<li>protein-chains: Each chain has a different color</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --color-scheme neuron-by-id</div></div><!-- fragment --><div class="image">
<img src="ColorSchemeID.png" alt="ColorSchemeID.png"/>
<div class="caption">
ColorSchemeNeuronById</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  --color-scheme neuron-by-segment-type</div></div><!-- fragment --><div class="image">
<img src="ColorSchemeSegmentType.png" alt="ColorSchemeSegmentType.png"/>
<div class="caption">
ColorSchemeNeuronBySegmentType</div></div>
 <h4>Scene environment</h4>
<p>The &ndash;scene-environment command line argument specifies adds predefined elements to the 3D scene. Available values are:</p><ul>
<li>bounding-box: Adds a bounding box to the loaded dataset</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  --scene-environment bounding-box</div></div><!-- fragment --><div class="image">
<img src="SceneEnvironmentBoundingBox.png" alt="SceneEnvironmentBoundingBox.png"/>
<div class="caption">
SceneEnvironmentBoundingBox</div></div>
 <h4>Realistic somas</h4>
<p>Command lines argument starting with metaballs tell Brayns to reconstruct somas according using the metaballs algorithm. The &ndash;metaballs-grid-size command line argument defines the precision of the generated mesh. The &ndash;metaballs-threshold command line argument specifies the threshold for the isosurface defined by function [f(x,y,z) = x^2 + y^2 + z^2]. The &ndash;metaballs-samples-from-soma command line argument defines how many samples from around the should be considered to generate the mesh.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --morphology-folder ~/morphologies --metaballs-grid-size 60</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  --metaballs-threshold 1 --metaballs-samples-from-soma 5</div></div><!-- fragment --><div class="image">
<img src="EnhancedSoma.png" alt="EnhancedSoma.png"/>
<div class="caption">
EnhancedSomas</div></div>
 <h2>Molecules</h2>
<h3>Loading a single molecule</h3>
<p>The &ndash;pdb-file command line argument specifies the PDB file to be loaded by Brayns.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --pdb-file 4IMY.pdb</div></div><!-- fragment --><div class="image">
<img src="PDBFile.png" alt="PDBFile.png"/>
<div class="caption">
PDBFile</div></div>
 <h3>Loading molecules from folder</h3>
<p>The &ndash;pdb-folder command line argument loads all PDB file located in the specified folder.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --pdb-folder ~/hiv --color-scheme protein-chains</div></div><!-- fragment --><div class="image">
<img src="PDBFolder.png" alt="PDBFolder.png"/>
<div class="caption">
PDBFolder</div></div>
 <h2>Meshes</h2>
<h3>Loading meshes</h3>
<p>The &ndash;mesh-folder command line argument specifies the folder from which meshes are loaded. Brayns can load file formats supported by the [assimp|https://github.com/assimp/assimp] library.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --mesh-folder ~/meshes</div></div><!-- fragment --><div class="image">
<img src="images/Meshes.png"  alt="Meshes"/>
</div>
<h2>Point cloud</h2>
<p>The &ndash;xyzb-file command line argument specifies the XYZB file to be loaded. A XYZB file is a binary encoded list of x,y and z double positions.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --xyzb-file sample.xyzb</div></div><!-- fragment --><h2>Cache file</h2>
<p>In order to accelerate the loading of large scenes, models can be dumped into binary files that can then be reloaded by Brayns. The &ndash;save-cache-file command line argument specifies the filename of the file into which the 3D scene should be saved. The &ndash;load-cache-file command line argument specifies the file to be loaded by Brayns. Note that cache files are only supported by the OSPRay engine. Any other command line parameter defining a data source will be ignored by Brayns.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --save-cache-file cache</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;braynsViewer --load-cache-file cache</div></div><!-- fragment --><h2>Volumes</h2>
<p>The &ndash;volume-file command line argument specifies the volume file to load. Brayns currently only supports 8-bit raw volume. The &ndash;volume-dimensions command line argument specifies the size of the volume and is always required. The &ndash;volume-element-spacing defines the size of the voxels. The &ndash;volume-offset command line argument defines the volume position in world coordinates. Finally, The volume-samples-per-ray command line argument specifies the precision of the rendering (number of steps taken by the ray when walking through the volume.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --volume-file volume.raw --volume-dimensions 512 512 256</div></div><!-- fragment --><div class="image">
<img src="Volume.png" alt="Volume.png"/>
<div class="caption">
Shadows</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --volume-file volume.raw --volume-dimensions 512 512 256 --shadows 1 --soft-shadows 1</div></div><!-- fragment --><div class="image">
<img src="VolumeGI.png" alt="VolumeGI.png"/>
<div class="caption">
Shadows</div></div>
 <h1>Rendering parameters</h1>
<h2>Engines</h2>
<p>The &ndash;engine command line argument specifies the underlying rendering engine used by Brayns. Three engines are currently supported:</p><ul>
<li>OSPRay: [A Ray Tracing Based Rendering Engine for High-Fidelity Visualization| <a href="http://www.ospray.org/">http://www.ospray.org/</a>]</li>
<li>OptiX: [A software development kit for achieving high performance ray tracing on the GPU|https://developer.nvidia.com/optix]</li>
<li>Livre: [A Large-scale Interactive Volume Rendering Engine, a out-of-core, multi-node, multi-gpu, OpenGL volume rendering engine|https://github.com/BlueBrain/Livre]</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --engine &lt;ospray|optix|livre&gt;</div></div><!-- fragment --><h2>Renderers</h2>
<p>The &ndash;renderer command line argument specifies which renderer used by Brayns. Four renderers are currently supported:</p><ul>
<li>Default: Common renderer to all engines. Provides basic features such as phong/blinn shading, shadows, ambient occlusion, light emission, reflection and refraction.</li>
<li>Simulation: Same as default with extra features such as support for simulations and volumes.</li>
<li>Particles:</li>
<li>Proximity: Displays information about element proximity in 3D space. Typically used to find touches between neurons.</li>
</ul>
<h2>Epsilon</h2>
<p>The &ndash;epsilon command line argument defines the precision of the ray-tracer.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --epsilon 0.001</div></div><!-- fragment --><h2>Camera types</h2>
<p>The &ndash;camera-type command line argument defines the type of camera to be used by the renderer. Four cameras are currently supported.</p><ul>
<li>perspective: Perspective camera</li>
<li>stereo: Side-by-side camera</li>
<li>orthographic: Orthographic camera</li>
<li>panoramic: 360 degrees camera</li>
<li>clipped: Perspective camera allowing clipping planes</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --camera-type orthographic</div></div><!-- fragment --><h2>Head light</h2>
<p>The &ndash;head-light command line argument aligns the light direction to the one of the camera. A value of 1 activate the feature, 0 deactivates it.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --head-light 1</div></div><!-- fragment --><h2>Shadows</h2>
<p>The &ndash;shadows command line argument determines if the intensity of the shadows. A value of 1 activates full shadows, 0 deactivates it. By default, shadows are hard. The &ndash;soft-Shadows command line argument defines the softness of the shadows.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --shadows 0.3</div></div><!-- fragment --><div class="image">
<img src="Shadows.png" alt="Shadows.png"/>
<div class="caption">
Shadows</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --shadows 0.6 --soft-shadows 0.1</div></div><!-- fragment --><div class="image">
<img src="SoftShadows.png" alt="SoftShadows.png"/>
<div class="caption">
SoftShadows</div></div>
 <h2>Ambient occlusion</h2>
<p>The &ndash;ambient-occlusion command line argument determines the strength of the ambient occlusion. The value is a float between 0 and 1 (0 for no occlusion, and 1 for maximum occlusion).</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --ambient-occlusion 1</div></div><!-- fragment --><div class="image">
<img src="AmbientOcclusion.png" alt="AmbientOcclusion.png"/>
<div class="caption">
AmbientOcclusion</div></div>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Dec 8 2017 01:43:45 for Brayns by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
