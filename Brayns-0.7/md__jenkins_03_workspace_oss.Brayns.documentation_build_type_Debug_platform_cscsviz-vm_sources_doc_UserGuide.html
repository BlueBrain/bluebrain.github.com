<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Brayns: Brayns user guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Brayns
   &#160;<span id="projectnumber">0.7.0</span>
   </div>
   <div id="projectbrief">Hardware Agnostic Ray-Tracer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__jenkins_03_workspace_oss.Brayns.documentation_build_type_Debug_platform_cscsviz-vm_sources_doc_UserGuide.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Brayns user guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Basic usage</h2>
<p>Brayns takes any number of files or folders as argument. To open a single file: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer model.obj</div></div><!-- fragment --><p>Alternatively, to open all supported files in a folder: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/datasets/</div></div><!-- fragment --><h2>Neurons</h2>
<h3>Loading individual morphologies</h3>
<p>SWC or H5 morphology files (supported by the <a href="https://github.com/BlueBrain/Brion">Brion</a> library) can be loaded easily.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies</div></div><!-- fragment --><h3>Loading a NEURON simulation</h3>
<p>BlueConfig or CircuitConfig files (supported by the Brion library) can be loaded. The <code>--circuit-targets</code> command line argument specifies the circuit target (or multiples separated by comma), and the <code>--circuit-report</code> command line argument specifies the simulation report to be rendered.</p>
<p>Example of how to load a circuit with voltages simulation for layer 1 cells:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/circuits/BlueConfig --circuit-targets Layer1 --circuit-report voltages</div></div><!-- fragment --><div class="image">
<img src="Layer1.png" alt="Layer1.png"/>
<div class="caption">
Layer1</div></div>
 <h4>Bounding box</h4>
<p>Defining a bounding box will prevent any geometry located outside of the box from being loaded. The <code>--circuit-bounding-box</code> command line argument takes six float values. The first three values being the lower bound of the box, and the next three values defining the upper bound.</p>
<p>Example of how to define a circuit bounding box: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/circuits/BlueConfig --circuit-bounding-box -100 -100 -100 100 100 100</div></div><!-- fragment --><h4>Density</h4>
<p>The <code>--circuit-density</code> command line argument defines how many of the circuit cells should be loaded. For example, if a density of 5 is specified, one cell in 20 will be loaded. Brayns reads the cells in GID order.</p>
<p>Example of how to load 10% of the circuit: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/circuits/BlueConfig --circuit-density 10</div></div><!-- fragment --><h3>Loading a NEST simulation</h3>
<p>The <code>--nest-config</code> command line argument define the NEST circuit to be loaded by Brayns. The <code>--nest-report</code> command line argument specifies the report to be rendered. The <code>--nest-cache-file</code> command line argument needs to be specified in order to generate the cache file that Brayns uses to render the simulation. If the simulation cache file already exists, Brayns connects to it. If it does not, Brayns creates it.</p>
<h3>Options</h3>
<h4>Layout</h4>
<p>When loading several morphologies, Brayns allows the user to position them with a specific layout. Typically, the user might want to visualize cells next to each other. The <code>--morphology-layout</code> command line argument specifies the number of cells per line, as well as the horizontal and vertical spacing between each of those cells. Units used for the horizontal and vertical spacing are the ones from the H5 and SWC files.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --morphology-layout 5 100 100</div></div><!-- fragment --><h4>Section types</h4>
<p>Brayns allows the user to specify which section type of the morpholoy should be loaded. Sections type are soma, axon, dendrite and apical dendrite. Those types can be combined together by adding their corresponding values (1 for the soma, 2 for the Axon, 4 for dendrites and 8 for apical dendrites). For example, if one wants to visualize the somas and the axons, the <code>--morphology-section-types</code> command line argument should then be set to 3.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --morphology-section-types 3</div></div><!-- fragment --><div class="image">
<img src="SectionTypesAxonSoma.png" alt="SectionTypesAxonSoma.png"/>
<div class="caption">
SectionTypes</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --morphology-section-types 5</div></div><!-- fragment --><div class="image">
<img src="SectionTypesAxonDendrites.png" alt="SectionTypesAxonDendrites.png"/>
<div class="caption">
SectionTypesSomaDendrites</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --morphology-section-types 9</div></div><!-- fragment --><div class="image">
<img src="SectionTypesAxonApicalDendrites.png" alt="SectionTypesAxonApicalDendrites.png"/>
<div class="caption">
SectionTypesSomaApicalDendrites</div></div>
 <h4>Geometry quality</h4>
<p>Brayns supports three quality levels for morphologies. The low quality draws one line per section, the medium quality divides the number of segment by 4, and the high quality renders the full morphology.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --geometry-quality low</div></div><!-- fragment --><div class="image">
<img src="GeometryQualityLow.png" alt="GeometryQualityLow.png"/>
<div class="caption">
GeometryQualityLow</div></div>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --geometry-quality medium</div></div><!-- fragment --><div class="image">
<img src="GeometryQualityMedium.png" alt="GeometryQualityMedium.png"/>
<div class="caption">
GeometryQualityMedium</div></div>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --geometry-quality high</div></div><!-- fragment --><div class="image">
<img src="GeometryQualityHigh.png" alt="GeometryQualityHigh.png"/>
<div class="caption">
GeometryQualityHigh</div></div>
 <h4>Radius multiplier</h4>
<p>The <code>--radius-multiplier</code> command line parameters specifies the multiplier applied to morphology radii. Typically, a value of 3 multiplies all radii by 3.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --radius-multiplier 3</div></div><!-- fragment --><div class="image">
<img src="RadiusMultiplier3.png" alt="RadiusMultiplier3.png"/>
<div class="caption">
RadiusMultiplier</div></div>
 <h4>Radius correction</h4>
<p>The <code>--radius-correction</code> command line parameters specifies a unique radius applied to all segments of the morphology. The unit is the one of the loaded H5/SWC files.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --radius-correction 1</div></div><!-- fragment --><div class="image">
<img src="RadiusCorrection1.png" alt="RadiusCorrection1.png"/>
<div class="caption">
RadiusCorrection</div></div>
 <h4>Color scheme</h4>
<p>The <code>--color-scheme</code> command line argument specifies how materials are applied to the morphology. Available values are:</p>
<table class="doxtable">
<tr>
<th>Argument </th><th>Description  </th></tr>
<tr>
<td>neuron-by-id </td><td>Each neuron has a different color </td></tr>
<tr>
<td>neuron-by-segment-id </td><td>Somas are white, axons are blue, dendrites are red, and apical dendrites are purple </td></tr>
<tr>
<td>neuron-by-layer </td><td>A different color is assigned for every layer. All neurons belonging to a specific layer as the same color </td></tr>
<tr>
<td>neuron-by-mtype </td><td>Each morphological type has a different color </td></tr>
<tr>
<td>neuron-by-etype </td><td>Each electro-physiologic type has a different color </td></tr>
<tr>
<td>protein-by-id </td><td>Each protein has a different color </td></tr>
<tr>
<td>protein-atoms </td><td>Atoms have standard colors </td></tr>
<tr>
<td>protein-chains </td><td>Each chain has a different color </td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --color-scheme neuron-by-id</div></div><!-- fragment --><div class="image">
<img src="ColorSchemeID.png" alt="ColorSchemeID.png"/>
<div class="caption">
ColorSchemeNeuronById</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --color-scheme neuron-by-segment-type</div></div><!-- fragment --><div class="image">
<img src="ColorSchemeSegmentType.png" alt="ColorSchemeSegmentType.png"/>
<div class="caption">
ColorSchemeNeuronBySegmentType</div></div>
 <h4>Realistic somas</h4>
<p>Command line arguments starting with metaballs tell Brayns to reconstruct somas using the metaballs algorithm. The <code>--metaballs-grid-size</code> command line argument defines the precision of the generated mesh. The <code>--metaballs-threshold</code> command line argument specifies the threshold for the isosurface defined by function [f(x,y,z) = x^2 + y^2 + z^2]. The <code>--metaballs-samples-from-soma</code> command line argument defines how many samples from around the soma should be considered when generating the mesh.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/morphologies --metaballs-grid-size 60 --metaballs-threshold 1 --metaballs-samples-from-soma 5</div></div><!-- fragment --><div class="image">
<img src="EnhancedSoma.png" alt="EnhancedSoma.png"/>
<div class="caption">
EnhancedSomas</div></div>
 <h2>Molecules</h2>
<h3>Loading a single molecule</h3>
<p>PDB files can be easily loaded:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer 4IMY.pdb</div></div><!-- fragment --><div class="image">
<img src="PDBFile.png" alt="PDBFile.png"/>
<div class="caption">
PDBFile</div></div>
 <h3>Loading molecules from folder</h3>
<p>Loads all PDB file located in the specified folder:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/hiv --color-scheme protein-chains</div></div><!-- fragment --><div class="image">
<img src="PDBFolder.png" alt="PDBFolder.png"/>
<div class="caption">
PDBFolder</div></div>
 <h2>Meshes</h2>
<h3>Loading meshes</h3>
<p>Brayns can load file formats supported by the <a href="https://github.com/assimp/assimp">assimp</a> library.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer ~/meshes</div></div><!-- fragment --><div class="image">
<img src="Mesh.png" alt="Mesh.png"/>
<div class="caption">
Mesh</div></div>
 <h2>Point cloud</h2>
<p>A XYZ file is a binary encoded list of x,y and z double positions.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer sample.xyz</div></div><!-- fragment --><h2>Cache file</h2>
<p>In order to accelerate the loading of large scenes, models can be dumped into binary files that can then be reloaded by Brayns. The <code>--save-cache-file</code> command line argument specifies the filename of the file into which the 3D scene should be saved. The <code>--load-cache-file</code> command line argument specifies the file to be loaded by Brayns. Note that cache files are only supported by the OSPRay engine. Any other command line parameter defining a data source will be ignored by Brayns.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --save-cache-file cache</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;braynsViewer --load-cache-file cache</div></div><!-- fragment --><h2>Volumes</h2>
<p>The <code>--volume-file</code> command line argument specifies the volume file to load. Brayns currently only supports 8-bit raw volume. The <code>--volume-dimensions</code> command line argument specifies the size of the volume and is always required. The <code>--volume-element-spacing</code> defines the size of the voxels. The <code>--volume-offset</code> command line argument defines the volume position in world coordinates.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --volume-file volume.raw --volume-dimensions 512 512 256</div></div><!-- fragment --><div class="image">
<img src="Volume.png" alt="Volume.png"/>
<div class="caption">
Shadows</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --volume-file volume.raw --volume-dimensions 512 512 256 --shadows 1 --soft-shadows 1</div></div><!-- fragment --><div class="image">
<img src="VolumeGI.png" alt="VolumeGI.png"/>
<div class="caption">
Shadows</div></div>
 <h1>Rendering parameters</h1>
<h2>Engines</h2>
<p>The <code>--engine</code> command line argument specifies the underlying rendering engine used by Brayns. Two engines are currently supported:</p><ul>
<li><a href="http://www.ospray.org/">OSPRay</a>: A Ray Tracing Based Rendering Engine for High-Fidelity Visualization</li>
<li><a href="https://developer.nvidia.com/optix">OptiX</a>: A software development kit for achieving high performance ray tracing on the GPU</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --engine &lt;ospray|optix&gt;</div></div><!-- fragment --><h2>Renderers</h2>
<p>The <code>--renderer</code> command line argument specifies which renderer is used by Brayns. Four renderers are currently supported:</p>
<table class="doxtable">
<tr>
<th>Argument </th><th>Description  </th></tr>
<tr>
<td>default </td><td>Common renderer to all engines. Provides basic features such as phong/blinn shading, shadows, ambient occlusion, light emission, reflection and refraction. </td></tr>
<tr>
<td>simulation</td><td>Same as default with extra features such as support for simulations and volumes. </td></tr>
</table>
<p>| particle | | proximity | Displays information about element proximity in 3D space. Typically used to find touches between neurons.</p>
<h2>Camera types</h2>
<p>The <code>--camera</code> command line argument defines the type of camera to be used by the renderer. Five cameras are currently supported:</p>
<table class="doxtable">
<tr>
<th>Argument </th><th>Description  </th></tr>
<tr>
<td>perspective </td><td>Perspective camera </td></tr>
<tr>
<td>stereo </td><td>Side-by-side camera </td></tr>
<tr>
<td>orthographic </td><td>Orthographic camera </td></tr>
<tr>
<td>panoramic </td><td>360 degrees camera </td></tr>
<tr>
<td>clipped </td><td>Perspective camera allowing clipping planes </td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --camera orthographic</div></div><!-- fragment --><h2>Head light</h2>
<p>The <code>--head-light</code> command line argument aligns the light direction to the one of the camera. A value of 1 activate the feature, 0 deactivates it.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --head-light 1</div></div><!-- fragment --><h2>Shadows</h2>
<p>The <code>--shadows</code> command line argument determines the intensity of the shadows. A value of 1 activates full shadows, 0 deactivates it. By default, shadows are hard. The <code>--soft-Shadows</code> command line argument defines the softness of the shadows.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --shadows 0.3</div></div><!-- fragment --><div class="image">
<img src="Shadows.png" alt="Shadows.png"/>
<div class="caption">
Shadows</div></div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --shadows 0.6 --soft-shadows 0.1</div></div><!-- fragment --><div class="image">
<img src="SoftShadows.png" alt="SoftShadows.png"/>
<div class="caption">
SoftShadows</div></div>
 <h2>Ambient occlusion</h2>
<p>The <code>--ambient-occlusion</code> command line argument determines the strength of the ambient occlusion. The value is a float between 0 and 1 (0 for no occlusion, and 1 for maximum occlusion).</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;braynsViewer --ambient-occlusion 1</div></div><!-- fragment --><div class="image">
<img src="AmbientOcclusion.png" alt="AmbientOcclusion.png"/>
<div class="caption">
AmbientOcclusion</div></div>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jul 25 2018 01:30:24 for Brayns by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
