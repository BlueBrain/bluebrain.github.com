<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Tide: Building Tide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tide
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">A Tiled Interactive DisplayWall Environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('building.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Building Tide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Tide uses CMake 3.1 or later to create a platform-specific build environment.</p>
<h2>Building from Source</h2>
<p>The standard build procedure using git and CMake is the following: </p><pre class="fragment">git clone https://github.com/BlueBrain/Tide.git
mkdir Tide/build
cd Tide/build
cmake ..
make
</pre><h2>External Dependencies</h2>
<p>Tide builds on top of standard and well tested libraries for core functionalities such as rendering, serialization, file handling and network communication. Those dependencies are:</p><ul>
<li>Boost 1.54 or later</li>
<li>MPI with MPI_THREAD_MULTIPLE support (openmpi 1.6.5 or later recommended)</li>
<li>Qt 5.4 or later</li>
</ul>
<p>In addition, it also depends on some external projects that are automatically cloned by CMake during the configure step. They come with their own additional requirements:</p><ul>
<li>Deflect: streaming of contents and applications<ul>
<li>libjpeg-turbo</li>
</ul>
</li>
<li>TUIO: multitouch interface</li>
<li>VirtualKeyboard: on-screen virtual keyboard (Qml)</li>
<li>ZeroEQ: http / REST interface (technically optional, but still needed to operate on-screen Launcher panel)<ul>
<li>Pthreads</li>
<li>ZeroMQ</li>
</ul>
</li>
</ul>
<p>Some additional libraries are searched by CMake to enable useful extra features if they are found:</p><ul>
<li>Cairo + RSVG (&gt;= 2.36.2): optimal SVG support (QtSVG used as a fallback)</li>
<li>Cairo + poppler-glib: optimal PDF support</li>
<li>poppler-qt5: fallback PDF support</li>
<li>FFMPEG: playing movies</li>
<li>TIFF: display large images (TIFF image pyramids)</li>
</ul>
<h3>Automatic Package Installation</h3>
<p>To ease the process of searching and installing all the necessary system packages, an automatic installation process is provided. It is triggered by passing a specific argument to CMake during the configuration step. Currently, only Ubuntu (via apt-get) and OSX (via macports) are supported.</p>
<p>To run the automatic install, do the following: </p><pre class="fragment">cd Tide/build
cmake .. -DINSTALL_PACKAGES=1
</pre><p>One could also look directly at the TIDE_DEB_DEPENDS and TIDE_PORT_DEPENDS entries in the top-level CMakeLists.txt of each (sub)project and install the packages manually.</p>
<h2>Supported Platforms</h2>
<p>This section gives more detailed information on building the software on some popular platforms.</p>
<p>Unfortunately, many Linux distributions lack at least one of the required components which must be installed manually. New users are advised to consider Ubuntu 16.04 which is one of the simplest option overall.</p>
<h3>Ubuntu 16.04</h3>
<p>Tide works almost out of the box on Ubuntu 16.04. The only issue is that the openmpi / mpich packages are either buggy or lack support for MPI_THREAD_MULTIPLE.</p>
<p>To boostrap the installation of Tide a on fresh install, do: </p><pre class="fragment">sudo apt install git cmake
git clone https://github.com/BlueBrain/Tide.git
mkdir Tide/build
cd Tide/build
cmake .. -DINSTALL_PACKAGES=1
</pre><p>After this step all the necessary system packages should be installed. Then use the following receipe to build and use a proper openmpi replacement: </p><pre class="fragment">VERSION=1.10.3

OPENMPI_MIRROR=http://www.open-mpi.org/software/ompi/v1.10/downloads
OPENMPI_FOLDER=openmpi-${VERSION}
OPENMPI_TARBALL=${OPENMPI_FOLDER}.tar.gz

wget ${OPENMPI_MIRROR}/${OPENMPI_TARBALL}
tar xzf ${OPENMPI_TARBALL}
cd ${OPENMPI_FOLDER}

./configure --enable-mpi-thread-multiple --prefix=$HOME/opt/openmpi
make install
</pre><p>And export the corresponding environment variables (add in ~/.bashrc): </p><pre class="fragment">OPENMPI_ROOT=$HOME/opt/openmpi
export PATH=$OPENMPI_ROOT/bin:$PATH
export LD_LIBRARY_PATH=$OPENMPI_ROOT/lib:$LD_LIBRARY_PATH
</pre><p>Note: older openmpi versions have been tested to work as well (1.8.7, 1.6.5).</p>
<p>Check that the correct openmpi version is in the PATH: </p><blockquote class="doxtable">
<p>which mpiexec </p>
</blockquote>
<p>and clear the CMakeCache (or just start with a fresh build folder) to ensure that CMake does not use the incompatible system openmpi.</p>
<h3>Ubuntu 14.04</h3>
<p>Tide has been extensively developed and tested on Ubuntu 14.04. Only a few system packages are outdated and must be replaced:</p><ul>
<li>CMake 2.8: download recent CMake 3 binaries <a href="https://cmake.org/download/">from here</a> and export PATH to <em>cmake</em> executable</li>
<li>Qt 5.2.1: use Qt 5.4.1 (or later) installer downloaded from <a href="http://download.qt.io">the Qt website</a> and export (add in ~/.bashrc): <pre class="fragment">QT_HOME=$HOME/Qt5.4.1/5.4/gcc_64
export PATH=$QT_HOME/bin:$PATH
export LD_LIBRARY_PATH=$QT_HOME/lib:$LD_LIBRARY_PATH
export QML_IMPORT_PATH=$QT_HOME/qml
</pre></li>
<li>cppcheck + lcov: build custom cppcheck-1.68 and lcov-1.11 (or newer) and export PATH to the binaries (only needed for <em>tests</em> and <em>doxygen</em> targets)</li>
</ul>
<p>The system libopenmpi-dev package (verion 1.6.5-8) only reports MPI_THREAD_SERIALIZED support. Despite this, it works just the same as if it had full MPI_THREAD_MULTIPLE support. The MPI thread support check can thus be safely disabled when configuring the project on this platform: </p><pre class="fragment">cmake .. -DTIDE_IGNORE_MPI_THREADSAFETY=ON
</pre><h3>RedHat 6</h3>
<p>Tide has been built and used in production on RHEL 6.7 machines. However, the deployment requires a large amount of Linux modules to replace the outdated system packages and even then some of the latest features remain unavailable (Cairo backend). This system is therefore not recommended for new deployments.</p>
<p>For those interested, here is a list of modules used at BlueBrain at the time of writing (September 2016):</p><ul>
<li>cmake/3.2.3</li>
<li>gcc/4.8.3 (+ gdb/7.5.1)</li>
<li>boost/1.54.0</li>
<li>openmpi/1.8.7</li>
<li>qt/5.4.1</li>
<li>poppler/0.45.0</li>
<li>libzmq/4.0.6</li>
<li>python/3.4.3-1</li>
<li>doxygen/1.8.9.1</li>
<li>cppcheck/1.68</li>
<li>lcov/1.11</li>
</ul>
<h3>MacOS</h3>
<p>Tide builds and runs on OSX (x86_64), but has limited features and testing.</p>
<p>The required libjpeg-turbo cannot be installed via macports because it conflicts with the regular libjpeg. A separate installer must be obtained from <a href="https://sourceforge.net/projects/libjpeg-turbo/">sourceforge</a>.</p>
<h3>Windows</h3>
<p>There is no plan to support Windows at the moment.</p>
<p>However, since most dependencies are open-source and cross-platform, one might be able to build a Windows version of Tide given sufficient time and effort. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Sep 30 2016 06:23:51 for Tide by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
